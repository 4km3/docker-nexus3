<%=
require 'json'
{
  :run_list => [ 'recipe[nexus-repository-manager::docker]' ],
  :java => {
    :jdk_version => ENV['JAVA_VERSION_MAJOR'],
    :java_home => ENV['JAVA_HOME'],
    :install_flavor => 'oracle',
    :oracle => {
      :accept_oracle_download_terms => true
    },
    :jdk => {
      '8' => {
        :x86_64 => {
          :url => ENV['JAVA_URL'],
          :checksum => ENV['JAVA_DOWNLOAD_SHA256_HASH']
        }.compact
      }
    }
  },
  'nexus-repository-manager': {
    :version => ENV['NEXUS_VERSION'],
    :nexus_download_url => ENV['NEXUS_DOWNLOAD_URL'],
    :checksum => ENV['NEXUS_DOWNLOAD_SHA256_HASH'],
    :sonatype_dir => ENV['SONATYPE_DIR'],
    :nexus_home => ENV['SONATYPE_DIR'] + '/nexus',
    :nexus_data => ENV['NEXUS_DATA'],
    :sonatype_work => ENV['SONATYPE_DIR'] + '/sonatype-work'
  }.compact
}.to_json
%>
